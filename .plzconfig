; TODO(jpoole): this plugin shouldn't contain the actually proto languages
[Plugin "python"]
ModuleDir = third_party.python
WheelRepo = https://get.please.build/third_party/python/py3

[Go]
ImportPath = github.com/please-build/proto-rules

[Plugin "proto"]
Definition = //build_defs/languages:js

[PluginDefinition]
name = proto

[FeatureFlags]
ExcludeProtoRules = true
ExcludePythonRules = true
ExcludeJavaRules = true

[Plugin "proto"]
GoPlugin = //third_party/go:protoc-gen-go
GoGrpcPlugin = //third_party/go:protoc-gen-go-grpc
ProtocTool = //third_party/proto:protoc

[PluginConfig "definitions"]
ConfigKey = Definition
Repeatable = true
Optional = true

[PluginConfig "protoc_tool"]
ConfigKey = ProtocTool
DefaultValue = protoc

[PluginConfig "protoc_flags"]
ConfigKey = ProtocFlag
Repeatable = true
Optional = true

